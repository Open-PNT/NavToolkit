#include "TestSet.hpp"

#include <vector>

#include <navtk/linear_algebra.hpp>

using std::vector;

namespace detail {

/**
 * Basic structure for implementing TestData
 */
struct TestData {
	vector<double> truth;        /**< list of truth values */
	vector<double> measurements; /**< list of truth values */
};

/**
 * TestData structure that can be appended to as new test set data is needed
 * Can be called upon by using a seed number argument in an EKF/KF declaration.
 */
vector<TestData> tests{
    // Insert new Tests here:
    { // Test 1
     {// Truth
      0.80253306373903,  -0.09901302467848, 1.98190776574968,  2.74567853418617,
      3.73025306706868,  2.04684080830134,  2.01955054539345,  2.13479624825548,
      1.74462920687554,  1.10124039374909,  1.15370130094793,  1.67504337787781,
      0.85107637518964,  1.11179456921800,  0.65880681337575,  2.06195419509668,
      2.33308481216689,  2.32603079681705,  3.23098949622838,  4.08784374432906,
      4.46017782577157,  4.85785066477395,  4.92079643438941,  5.86225643203687,
      6.30336022307196,  5.57148049191197,  5.55971688005969,  5.40235468391234,
      4.82009645479371,  4.61412627629377,  4.21422505038239,  5.10554066544792,
      5.51630129970758,  4.34506479941095,  3.95455658050094,  4.44469698438424,
      5.40447223818841,  6.15685843340279,  5.49890201782928,  6.14393435098911,
      5.82848202944741,  6.88337682356160,  7.47916000230409,  8.50171097032581,
      6.14551406718989,  4.62044595184724,  5.80130322406524,  5.80744417513619,
      5.67045476506218,  5.24824683299016,  5.23171533510206,  5.70949446897137,
      5.71916372937798,  4.02747036738266,  3.56623117432175,  4.40797866449769,
      4.16607381789777,  3.48203586274783,  1.56543587248213,  1.88078623172125,
      2.28570846802366,  2.07030838351367,  3.02656028802744,  3.30731106563849,
      5.52111942071197,  5.47289377549089,  6.56416644126400,  9.93308688873864,
      7.67912174470324,  7.30194498455460,  8.48626272290351,  7.45719205775453,
      8.90521226047457,  9.53840459899140,  8.16488724135365,  7.58961128564825,
      8.21439104070786,  7.89242110646430,  7.21488595439630,  9.00223945430051,
      7.91344816291989,  6.16493532220587,  7.00817306112046,  8.18848588250445,
      9.10161579558150,  9.28672057109269,  9.39957804821469,  7.42657254643119,
      7.46509577454429,  7.91813837717904,  7.99605341368838,  7.67185931782656,
      9.12468917662569,  10.12612097965097, 10.88323639131966, 11.45760037488541,
      12.48644937682814, 11.03740649845509, 11.63689599153132, 10.89509931386717},
     {// Measurements
      1.93748620673160,
      2.28865444394049,
      5.59513096876414,
      5.34917819337496,
      6.96343517243998,
      6.36666847809463,
      3.42066161101623,
      9.62121586589608,
      9.04840130591246,
      9.13100655668095}},
    {// Test 2
     {1.56158104018895,   0.95339843318209,   -0.13782944976261,  -0.76236958616924,
      -1.88065279642489,  -3.5389745755586,   -5.42113895331583,  -5.36188345889015,
      -5.77029478755385,  -5.48258528456277,  -5.03735304200287,  -5.99316492939968,
      -6.32831146552101,  -7.31956201094022,  -6.70821106227871,  -5.75102603256576,
      -5.94066180438895,  -5.93179821595702,  -5.50529826267205,  -6.13106469032509,
      -7.29193348467911,  -4.46120116403193,  -4.10573277435446,  -5.46621981856355,
      -5.01119061283749,  -6.17415308576436,  -7.47908696329239,  -7.31534634524476,
      -7.81313745142976,  -9.14586743315122,  -9.52726635658001,  -11.02409563056683,
      -9.991654858725,    -8.25741729750281,  -9.08637536426186,  -8.75389304692881,
      -10.97808128439596, -11.62839358135382, -13.56348230213667, -14.22391313534906,
      -14.22317072634972, -14.13359464794274, -13.89766898023431, -13.15665837547481,
      -10.56381079363269, -13.45753975682593, -14.11511629052151, -15.88710450026356,
      -16.37150961319655, -16.91734995228496, -15.08799776099036, -13.01514813685522,
      -12.60283144185539, -11.24501090135389, -10.59409586443662, -11.56018009866044,
      -12.2842770437951,  -11.46319933191153, -11.04254937790329, -10.57660010963349,
      -11.62048021980524, -11.19444182552557, -11.44346086361794, -11.11911475811378,
      -10.16187265798549, -9.12914285040807,  -9.12286589357021,  -8.80078172951647,
      -9.58235467132954,  -9.10772523090272,  -8.99954664631862,  -9.12520441479611,
      -6.75276093755364,  -7.12069618100555,  -7.93827579273647,  -7.69898495334247,
      -8.08898807572697,  -8.0134146989881,   -7.06174245843737,  -8.22530633598511,
      -7.90515975442569,  -6.82868024467861,  -8.52118369477446,  -7.37916990584613,
      -7.75456619455816,  -7.07486106403405,  -5.51390965900507,  -6.00451422850106,
      -6.77572952656558,  -8.19596901751397,  -7.8639009585928,   -7.30510157581965,
      -7.89312253595192,  -7.94763344116589,  -8.60761351699884,  -8.47757441264974,
      -7.69253198253153,  -5.80233359067291,  -5.45697896235886,  -5.67194680938478},
     {3.76999012596886,
      -2.82894395622296,
      -5.08352439889921,
      -7.31885727080011,
      -12.01476164056981,
      -12.87958867521046,
      -9.41207113402534,
      -6.79113756053872,
      -5.69675066864578,
      -5.65549187281289}}};

vector<double> TestSet::truth(int test) {
	vector<double> tmp_truth;
	for (size_t i = 0; i < tests[test - 1].truth.size(); i++)
		tmp_truth.push_back(tests[test - 1].truth[i]);
	return tmp_truth;
}

vector<double> TestSet::measurements(int test) {
	vector<double> tmp_measurements;
	for (size_t i = 0; i < tests[test - 1].measurements.size(); i++)
		tmp_measurements.push_back(tests[test - 1].measurements[i]);
	return tmp_measurements;
}
std::size_t TestSet::test_size(int test) { return tests[test - 1].truth.size(); }

}  // namespace detail
